<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>形式化关系查询语言 - Victor's Code Journey</title><meta name=Description content><meta property="og:url" content="http://www.victorchu.info/posts/2023/10/9e3f23c9/"><meta property="og:site_name" content="Victor's Code Journey"><meta property="og:title" content="形式化关系查询语言"><meta property="og:description" content='查询语言是用户用来从数据库中请求信息的语言。查询语言可以分为过程化和非过程化的。在过程化语言中用户指导系统对数据库执行一系列操作以计算出结果。在非过程化语言中，用户只需要描述所需信息，而不用给出具体过程。
实际上使用的查询语言既包含过程化的成分，又包含非过程化的成分。在一些"纯"查询语言中，关系代数是过程化的，而元组关系演算和域关系演算是非过程的。
在解释关系代数操作之前，介绍一些基本概念：
关系：在关系代数中，关系是由行和列组成的表，以结构化格式表示数据。每个关系都有一个唯一的名称，并由元组组成。 元组：元组是关系中的一行，其中包含每个属性的一组值。它表示关系表中的单个数据条目或记录。 属性：属性是关系中的列，每个列表示数据的特定特征或属性。例如，在“学生”关系中，属性可以是“姓名”、“年龄”和“年级”。 域：域是属性可以具有的可能值的集合。它定义可以存储在关系的每一列中的数据类型，如整数、字符串或日期。'><meta property="og:locale" content="zh_cn"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-10-03T16:25:05+08:00"><meta property="article:modified_time" content="2023-10-03T16:25:05+08:00"><meta property="article:tag" content="Relation Algebra"><meta property="og:image" content="http://www.victorchu.info/blog-solid.svg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://www.victorchu.info/blog-solid.svg"><meta name=twitter:title content="形式化关系查询语言"><meta name=twitter:description content='查询语言是用户用来从数据库中请求信息的语言。查询语言可以分为过程化和非过程化的。在过程化语言中用户指导系统对数据库执行一系列操作以计算出结果。在非过程化语言中，用户只需要描述所需信息，而不用给出具体过程。
实际上使用的查询语言既包含过程化的成分，又包含非过程化的成分。在一些"纯"查询语言中，关系代数是过程化的，而元组关系演算和域关系演算是非过程的。
在解释关系代数操作之前，介绍一些基本概念：
关系：在关系代数中，关系是由行和列组成的表，以结构化格式表示数据。每个关系都有一个唯一的名称，并由元组组成。 元组：元组是关系中的一行，其中包含每个属性的一组值。它表示关系表中的单个数据条目或记录。 属性：属性是关系中的列，每个列表示数据的特定特征或属性。例如，在“学生”关系中，属性可以是“姓名”、“年龄”和“年级”。 域：域是属性可以具有的可能值的集合。它定义可以存储在关系的每一列中的数据类型，如整数、字符串或日期。'><meta name=application-name content="Victor's Code Journey"><meta name=apple-mobile-web-app-title content="Victor's Code Journey"><meta name=theme-color content="#f8f8f8"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=canonical href=http://www.victorchu.info/posts/2023/10/9e3f23c9/><link rel=prev href=http://www.victorchu.info/posts/2023/09/422b2ff2/><link rel=next href=http://www.victorchu.info/posts/2024/02/4e6dffa/><link rel=stylesheet href=/css/main.min.css><link rel=stylesheet href=/css/style.min.css><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"形式化关系查询语言","inLanguage":"zh-cn","mainEntityOfPage":{"@type":"WebPage","@id":"http://www.victorchu.info/posts/2023/10/9e3f23c9/"},"image":[{"@type":"ImageObject","url":"http://www.victorchu.info/feature-images/database.webp","width":600,"height":327}],"genre":"posts","keywords":["Relation Algebra"],"wordcount":6029,"url":"http://www.victorchu.info/posts/2023/10/9e3f23c9/","datePublished":"2023-10-03T16:25:05+08:00","dateModified":"2023-10-03T16:25:05+08:00","publisher":{"@type":"Organization","name":"victorchutian"},"author":[{"@type":"Person","name":"victorchutian","url":"http://www.victorchu.info/authors/victorchutian/"}],"description":""}</script></head><body data-instant-intensity=viewport class="tw-flex tw-min-h-screen tw-flex-col"><script>function setTheme(e){document.body.setAttribute("theme",e),document.documentElement.className=e,document.documentElement.style.setProperty("color-scheme",e==="light"?"light":"dark"),e==="light"?document.documentElement.classList.remove("tw-dark"):document.documentElement.classList.add("tw-dark"),window.theme=e,window.isDark=window.theme!=="light"}function saveTheme(e){window.localStorage&&localStorage.setItem("theme",e)}function getMeta(e){const t=document.getElementsByTagName("meta");for(let n=0;n<t.length;n++)if(t[n].getAttribute("name")===e)return t[n];return""}if(window.localStorage&&localStorage.getItem("theme")){let e=localStorage.getItem("theme");e==="light"||e==="dark"?setTheme(e):setTheme(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}else"auto"==="light"||"auto"==="dark"?(setTheme("auto"),saveTheme("auto")):(saveTheme("auto"),setTheme(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"));let metaColors={light:"#f8f8f8",dark:"#161b22"};getMeta("theme-color").content=metaColors[document.body.getAttribute("theme")],window.switchThemeEventSet=new Set</script><div id=back-to-top></div><div id=mask></div><header class="desktop print:!tw-hidden" id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Victor's Code Journey"><img class="tw-inline tw-align-text-bottom tw-mr-1" src=/images/blog-solid.svg alt="Victor's Code Journey" height=32 width=32><span id=desktop-header-typeit class=typeit></span></a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>所有文章 </a><a class=menu-item href=/tags/>标签 </a><a class=menu-item href=/categories/>分类 </a><a class=menu-item href=/series/>系列 </a><a class=menu-item href=/about/>关于 </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder="Search ..." id=search-input-desktop>
<button class="search-button search-toggle" id=search-toggle-desktop title=搜索>
<svg class="icon" viewBox="0 0 512 512"><path d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</button>
<button class="search-button search-clear" id=search-clear-desktop title=清空>
<svg class="icon" viewBox="0 0 512 512"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3.0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3.0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3.0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3.0 17L312 256l65.6 65.1z"/></svg>
</button>
<span class="search-button search-loading tw-animate-spin" id=search-loading-desktop><svg class="icon" viewBox="0 0 512 512"><path d="M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51.0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51.0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49.0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51.0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156.0c-26.51.0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51.0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"/></svg>
</span></span><button class="menu-item theme-switch" aria-label=切换主题>
<svg class="icon" viewBox="0 0 512 512"><path d="M8 256c0 136.966 111.033 248 248 248s248-111.034 248-248S392.966 8 256 8 8 119.033 8 256zm248 184V72c101.705.0 184 82.311 184 184 0 101.705-82.311 184-184 184z"/></svg></button></div></div></div></header><header class="mobile print:!tw-hidden" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Victor's Code Journey"><img class="tw-inline tw-align-text-bottom tw-mr-1" src=/images/blog-solid.svg alt="Victor's Code Journey" height=32 width=32><span id=mobile-header-typeit class=typeit></span></a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search ..." id=search-input-mobile>
<button class="search-button search-toggle tw-h-10" id=search-toggle-mobile title=搜索>
<svg class="icon" viewBox="0 0 512 512"><path d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</button>
<button class="search-button search-clear tw-h-fit" id=search-clear-mobile title=清空>
<svg class="icon" viewBox="0 0 512 512"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3.0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3.0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3.0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3.0 17L312 256l65.6 65.1z"/></svg>
</button>
<span class="search-button search-loading tw-animate-spin" id=search-loading-mobile><svg class="icon" viewBox="0 0 512 512"><path d="M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51.0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51.0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49.0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51.0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156.0c-26.51.0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51.0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"/></svg></span></div><button class=search-cancel id=search-cancel-mobile>
取消</button></div><a class=menu-item href=/posts/ title>所有文章</a><a class=menu-item href=/tags/ title>标签</a><a class=menu-item href=/categories/ title>分类</a><a class=menu-item href=/series/ title>系列</a><a class=menu-item href=/about/ title>关于</a><button class="menu-item theme-switch tw-w-full" aria-label=切换主题>
<svg class="icon" viewBox="0 0 512 512"><path d="M8 256c0 136.966 111.033 248 248 248s248-111.034 248-248S392.966 8 256 8 8 119.033 8 256zm248 184V72c101.705.0 184 82.311 184 184 0 101.705-82.311 184-184 184z"/></svg></button></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class="tw-mx-4 tw-flex-1"><div class="toc print:!tw-hidden" id=toc-auto><h2 class=toc-title>目录</h2><div class="toc-content always-active" id=toc-content-auto><nav id=TableOfContents><ul><li><a href=#关系代数>关系代数</a><ul><li><a href=#基本运算>基本运算</a><ul><li><a href=#选择select>选择(select)</a></li><li><a href=#投影project>投影(project)</a></li><li><a href=#并集union>并集(union)</a></li><li><a href=#差集set-difference>差集(set-difference)</a></li><li><a href=#更名rename运算>更名(rename)运算</a></li><li><a href=#笛卡尔积cartesian-product>笛卡尔积(Cartesian-product)</a></li><li><a href=#形式化定义>形式化定义</a></li></ul></li><li><a href=#多重集关系代数>多重集关系代数</a></li><li><a href=#附加的关系代数运算>附加的关系代数运算</a><ul><li><a href=#交集intersection>交集(intersection)</a></li><li><a href=#赋值运算assignment>赋值运算(assignment)</a></li><li><a href=#连接>连接</a></li><li><a href=#除法>除法</a></li></ul></li><li><a href=#扩展的关系代数运算>扩展的关系代数运算</a><ul><li><a href=#广义投影generalized-projection>广义投影(generalized-projection)</a></li><li><a href=#聚集aggregate-function>聚集(aggregate function)</a></li></ul></li></ul></li><li><a href=#元组关系演算>元组关系演算</a><ul><li><a href=#查询示例>查询示例</a></li><li><a href=#形式化定义-1>形式化定义</a></li><li><a href=#表达式安全性问题>表达式安全性问题</a></li></ul></li><li><a href=#域关系演算>域关系演算</a><ul><li><a href=#形式化定义-2>形式化定义</a></li><li><a href=#查询示例-1>查询示例</a></li><li><a href=#表达式安全性问题-1>表达式安全性问题</a></li></ul></li><li><a href=#总结>总结</a></li><li><a href=#参考>参考</a></li></ul></nav></div></div><dialog id=toc-dialog class="tw-max-w-full tw-w-full tw-max-h-full tw-h-full tw-ml-16"><div class="toc tw-mx-4 tw-max-w-full"><h2 class="tw-mx-0 tw-my-6 tw-uppercase tw-text-2xl">目录</h2><div class=toc-content><nav id=TableOfContents><ul><li><a href=#关系代数>关系代数</a><ul><li><a href=#基本运算>基本运算</a><ul><li><a href=#选择select>选择(select)</a></li><li><a href=#投影project>投影(project)</a></li><li><a href=#并集union>并集(union)</a></li><li><a href=#差集set-difference>差集(set-difference)</a></li><li><a href=#更名rename运算>更名(rename)运算</a></li><li><a href=#笛卡尔积cartesian-product>笛卡尔积(Cartesian-product)</a></li><li><a href=#形式化定义>形式化定义</a></li></ul></li><li><a href=#多重集关系代数>多重集关系代数</a></li><li><a href=#附加的关系代数运算>附加的关系代数运算</a><ul><li><a href=#交集intersection>交集(intersection)</a></li><li><a href=#赋值运算assignment>赋值运算(assignment)</a></li><li><a href=#连接>连接</a></li><li><a href=#除法>除法</a></li></ul></li><li><a href=#扩展的关系代数运算>扩展的关系代数运算</a><ul><li><a href=#广义投影generalized-projection>广义投影(generalized-projection)</a></li><li><a href=#聚集aggregate-function>聚集(aggregate function)</a></li></ul></li></ul></li><li><a href=#元组关系演算>元组关系演算</a><ul><li><a href=#查询示例>查询示例</a></li><li><a href=#形式化定义-1>形式化定义</a></li><li><a href=#表达式安全性问题>表达式安全性问题</a></li></ul></li><li><a href=#域关系演算>域关系演算</a><ul><li><a href=#形式化定义-2>形式化定义</a></li><li><a href=#查询示例-1>查询示例</a></li><li><a href=#表达式安全性问题-1>表达式安全性问题</a></li></ul></li><li><a href=#总结>总结</a></li><li><a href=#参考>参考</a></li></ul></nav></div></div></dialog><script>document.getElementsByTagName("main")[0].setAttribute("autoTOC","true")</script><article class="page single print:!tw-w-full print:!tw-max-w-none print:!tw-m-0 print:!tw-p-0"><h1 class=single-title data-pagefind-meta=date:2023-10-03 data-pagefind-body>形式化关系查询语言</h1><div class=post-meta><div class=post-meta-line><span class=post-author><span class=author><span class=screen-reader-text></span><a href=http://www.victorchu.info/authors/victorchutian/>victorchutian</a></span>
</span>&nbsp;<span class=post-category>收录于 </span>&nbsp;<span class=post-category>类别 <a href=/categories/database/><svg class="icon" viewBox="0 0 512 512"><path d="M464 128H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48C21.49 64 0 85.49.0 112v288c0 26.51 21.49 48 48 48h416c26.51.0 48-21.49 48-48V176c0-26.51-21.49-48-48-48zm0 272H48V112h140.12l54.63 54.63c6 6 14.14 9.37 22.63 9.37H464v224z"/></svg>DataBase</a></span></div><div class=post-meta-line><svg class="icon" viewBox="0 0 448 512"><path d="M148 288h-40c-6.6.0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6.0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm108-12v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm-96 96v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm-96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm192 0v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm96-260v352c0 26.5-21.5 48-48 48H48c-26.5.0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6.0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6.0 12 5.4 12 12v52h48c26.5.0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3.0 6-2.7 6-6z"/></svg>&nbsp;<time datetime=2023-10-03>2023-10-03</time>&nbsp;<svg class="icon" viewBox="0 0 576 512"><path d="M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5.0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1.0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7.0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174 402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7-43.2-43.2c-4.1-4.1-10.8-4.1-14.8.0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"/></svg>&nbsp;<time datetime=2023-10-03>2023-10-03</time>&nbsp;<svg class="icon" viewBox="0 0 512 512"><path d="M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3.0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9.0l60.1 60.1c18.8 18.7 18.8 49.1.0 67.9zM284.2 99.8 21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3.0-17l-111-111c-4.8-4.7-12.4-4.7-17.1.0zM124.1 339.9c-5.5-5.5-5.5-14.3.0-19.8l154-154c5.5-5.5 14.3-5.5 19.8.0s5.5 14.3.0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8.0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"/></svg>&nbsp;约 6029 字&nbsp;
<svg class="icon" viewBox="0 0 512 512"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5.0-2e2-89.5-2e2-2e2S145.5 56 256 56s2e2 89.5 2e2 2e2-89.5 2e2-2e2 2e2zm61.8-104.4-84.9-61.7c-3.1-2.3-4.9-5.9-4.9-9.7V116c0-6.6 5.4-12 12-12h32c6.6.0 12 5.4 12 12v141.7l66.8 48.6c5.4 3.9 6.5 11.4 2.6 16.8L334.6 349c-3.9 5.3-11.4 6.5-16.8 2.6z"/></svg>&nbsp;预计阅读 27 分钟&nbsp;</div></div><div class=featured-image><img loading=eager src=/feature-images/database.webp height=327 width=600></div><div class="details toc print:!tw-block" id=toc-static kept><div class="details-summary toc-title"><span>目录</span>
<span class=details-icon><svg class="icon" viewBox="0 0 256 512"><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9.0l-22.6-22.6c-9.4-9.4-9.4-24.6.0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6.0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9.0l136 136c9.5 9.4 9.5 24.6.1 34z"/></svg></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#关系代数>关系代数</a><ul><li><a href=#基本运算>基本运算</a><ul><li><a href=#选择select>选择(select)</a></li><li><a href=#投影project>投影(project)</a></li><li><a href=#并集union>并集(union)</a></li><li><a href=#差集set-difference>差集(set-difference)</a></li><li><a href=#更名rename运算>更名(rename)运算</a></li><li><a href=#笛卡尔积cartesian-product>笛卡尔积(Cartesian-product)</a></li><li><a href=#形式化定义>形式化定义</a></li></ul></li><li><a href=#多重集关系代数>多重集关系代数</a></li><li><a href=#附加的关系代数运算>附加的关系代数运算</a><ul><li><a href=#交集intersection>交集(intersection)</a></li><li><a href=#赋值运算assignment>赋值运算(assignment)</a></li><li><a href=#连接>连接</a></li><li><a href=#除法>除法</a></li></ul></li><li><a href=#扩展的关系代数运算>扩展的关系代数运算</a><ul><li><a href=#广义投影generalized-projection>广义投影(generalized-projection)</a></li><li><a href=#聚集aggregate-function>聚集(aggregate function)</a></li></ul></li></ul></li><li><a href=#元组关系演算>元组关系演算</a><ul><li><a href=#查询示例>查询示例</a></li><li><a href=#形式化定义-1>形式化定义</a></li><li><a href=#表达式安全性问题>表达式安全性问题</a></li></ul></li><li><a href=#域关系演算>域关系演算</a><ul><li><a href=#形式化定义-2>形式化定义</a></li><li><a href=#查询示例-1>查询示例</a></li><li><a href=#表达式安全性问题-1>表达式安全性问题</a></li></ul></li><li><a href=#总结>总结</a></li><li><a href=#参考>参考</a></li></ul></nav></div></div><div class=content id=content data-pagefind-body><div class="details admonition warning open"><div class="details-summary admonition-title"><span class=icon><svg class="icon" viewBox="0 0 576 512"><path d="M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937.0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154.0l239.94 416.028zM288 354c-25.405.0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346 7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373.0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884.0-12.356 5.78-11.981 12.654z"/></svg></span>警告<span class=details-icon><svg class="icon" viewBox="0 0 256 512"><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9.0l-22.6-22.6c-9.4-9.4-9.4-24.6.0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6.0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9.0l136 136c9.5 9.4 9.5 24.6.1 34z"/></svg></span></div><div class=details-content><div class=admonition-content>本文最后更新于 <span class=timeago datetime=2023-10-03T16:25:05 title="October 3, 2023">2023-10-03</span>，文中内容可能已过时。</div></div></div><p>查询语言是用户用来从数据库中请求信息的语言。查询语言可以分为过程化和非过程化的。在过程化语言中用户指导系统对数据库执行一系列操作以计算出结果。在非过程化语言中，用户只需要描述所需信息，而不用给出具体过程。</p><p>实际上使用的查询语言既包含过程化的成分，又包含非过程化的成分。在一些"纯"查询语言中，关系代数是过程化的，而元组关系演算和域关系演算是非过程的。</p><p>在解释关系代数操作之前，介绍一些基本概念：</p><ul><li>关系：在关系代数中，关系是由行和列组成的表，以结构化格式表示数据。每个关系都有一个唯一的名称，并由元组组成。</li><li>元组：元组是关系中的一行，其中包含每个属性的一组值。它表示关系表中的单个数据条目或记录。</li><li>属性：属性是关系中的列，每个列表示数据的特定特征或属性。例如，在“学生”关系中，属性可以是“姓名”、“年龄”和“年级”。</li><li>域：域是属性可以具有的可能值的集合。它定义可以存储在关系的每一列中的数据类型，如整数、字符串或日期。</li></ul><h2 id=关系代数 class=headerLink><a href=#%e5%85%b3%e7%b3%bb%e4%bb%a3%e6%95%b0 class=header-mark></a>关系代数</h2><p>关系代数是一种过程化查询语言。包含了一个运算的集合，这些运算以一个或两个关系为输入，产出一个新的关系为结果。由于关系运算的结果和输入类型一样，我们可以把多个关系代数运算组合成关系代数表达式。</p><p>关系代数运算的算子如下:</p><p><img class=tw-inline loading=lazy src=/posts/2023/10/9e3f23c9/types_of_operators_in_relational_algebra.webp height=451 width=800></p><h3 id=基本运算 class=headerLink><a href=#%e5%9f%ba%e6%9c%ac%e8%bf%90%e7%ae%97 class=header-mark></a>基本运算</h3><p>选择，投影和更名运算称为一元运算。因为它们对一个关系进行运算。差集，笛卡尔积和并对两个关系进行运算，因而被称为二元运算。</p><h4 id=选择select class=headerLink><a href=#%e9%80%89%e6%8b%a9select class=header-mark></a>选择(select)</h4><p>选择运算选出满足给定谓词的元组。选择谓词中可以使用比较，也可以使用and，or和not将多个谓词组合为一个较大的谓词。</p><p>例如：如果我们有一个关系R，它有属性A、B和C，我们想选择<code>C>3</code>的元组:</p><div class=table-wrapper><table><thead><tr><th style=text-align:center>A</th><th style=text-align:center>B</th><th style=text-align:center>C</th></tr></thead><tbody><tr><td style=text-align:center>1</td><td style=text-align:center>2</td><td style=text-align:center>4</td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>2</td><td style=text-align:center>3</td></tr><tr><td style=text-align:center>3</td><td style=text-align:center>2</td><td style=text-align:center>3</td></tr><tr><td style=text-align:center>4</td><td style=text-align:center>3</td><td style=text-align:center>4</td></tr></tbody></table></div><p>$\sigma_{c>3}(R)$ 将选择c大于3的元组，输出</p><div class=table-wrapper><table><thead><tr><th style=text-align:center>A</th><th style=text-align:center>B</th><th style=text-align:center>C</th></tr></thead><tbody><tr><td style=text-align:center>1</td><td style=text-align:center>2</td><td style=text-align:center>4</td></tr><tr><td style=text-align:center>4</td><td style=text-align:center>3</td><td style=text-align:center>4</td></tr></tbody></table></div><h4 id=投影project class=headerLink><a href=#%e6%8a%95%e5%bd%b1project class=header-mark></a>投影(project)</h4><p>投影运算返回作为参数的关系，可以将某些属性排除在外。假设我们需要关系R中的列B和C。</p><p>$\Pi_{(B,C)}(R)$ 将仅显示以下列:</p><div class=table-wrapper><table><thead><tr><th style=text-align:center>B</th><th style=text-align:center>C</th></tr></thead><tbody><tr><td style=text-align:center>2</td><td style=text-align:center>4</td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>3</td></tr><tr><td style=text-align:center>3</td><td style=text-align:center>4</td></tr></tbody></table></div><blockquote><p>默认情况下，投影操作会删除重复的值</p></blockquote><h4 id=并集union class=headerLink><a href=#%e5%b9%b6%e9%9b%86union class=header-mark></a>并集(union)</h4><p>并集运算将两个集合合并起来。并集运算要求:</p><ul><li>关系r和s必须是同元的，即它们的属性数目必须相同。</li><li>对于所有的i，r的第i个属性的域必须和s的第i个属性的域相同。</li></ul><p>考虑下表中的学生有不同的选修科目。</p><p>法语课</p><div class=table-wrapper><table><thead><tr><th style=text-align:center>学生姓名</th><th style=text-align:center>学号</th></tr></thead><tbody><tr><td style=text-align:center>Ram</td><td style=text-align:center>01</td></tr><tr><td style=text-align:center>Mohan</td><td style=text-align:center>02</td></tr><tr><td style=text-align:center>Vivek</td><td style=text-align:center>13</td></tr><tr><td style=text-align:center>Geeta</td><td style=text-align:center>17</td></tr></tbody></table></div><p>德语课</p><div class=table-wrapper><table><thead><tr><th style=text-align:center>学生姓名</th><th style=text-align:center>学号</th></tr></thead><tbody><tr><td style=text-align:center>Vivek</td><td style=text-align:center>13</td></tr><tr><td style=text-align:center>Geeta</td><td style=text-align:center>17</td></tr><tr><td style=text-align:center>Shyam</td><td style=text-align:center>21</td></tr><tr><td style=text-align:center>Rohan</td><td style=text-align:center>25</td></tr></tbody></table></div><p>我们可以将学生姓名进行并集运算: $\Pi_{(学生姓名)}(法语课) \cup \Pi_{(学生姓名)}(德语课)$ ,输出:</p><div class=table-wrapper><table><thead><tr><th style=text-align:center>学生姓名</th></tr></thead><tbody><tr><td style=text-align:center>Ram</td></tr><tr><td style=text-align:center>Mohan</td></tr><tr><td style=text-align:center>Vivek</td></tr><tr><td style=text-align:center>Geeta</td></tr><tr><td style=text-align:center>Shyam</td></tr><tr><td style=text-align:center>Rohan</td></tr></tbody></table></div><h4 id=差集set-difference class=headerLink><a href=#%e5%b7%ae%e9%9b%86set-difference class=header-mark></a>差集(set-difference)</h4><p>差集运算可以找出在一个关系而不在另一个关系中的元组。差集运算要求:</p><ul><li>关系r和s必须是同元的，即它们的属性数目必须相同。</li><li>对于所有的i，r的第i个属性的域必须和s的第i个属性的域相同。</li></ul><p>要查找仅学习法语但不学习德语的学生: $\Pi_{(学生姓名)}(法语课) - \Pi_{(学生姓名)}(德语课)$。</p><div class=table-wrapper><table><thead><tr><th style=text-align:center>学生姓名</th></tr></thead><tbody><tr><td style=text-align:center>Ram</td></tr><tr><td style=text-align:center>Mohan</td></tr></tbody></table></div><h4 id=更名rename运算 class=headerLink><a href=#%e6%9b%b4%e5%90%8drename%e8%bf%90%e7%ae%97 class=header-mark></a>更名(rename)运算</h4><p>rename可以给关系运算表达式赋上名称。当我们想要避免歧义时，它非常有用，特别是在复杂的情况下。重命名是一个一元操作，用于重命名关系的属性。</p><p>例如：我们可以将R中的属性B重命名为D。</p><div class=table-wrapper><table><thead><tr><th style=text-align:center>A</th><th style=text-align:center>B</th><th style=text-align:center>C</th></tr></thead><tbody><tr><td style=text-align:center>1</td><td style=text-align:center>2</td><td style=text-align:center>4</td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>2</td><td style=text-align:center>3</td></tr><tr><td style=text-align:center>3</td><td style=text-align:center>2</td><td style=text-align:center>3</td></tr><tr><td style=text-align:center>4</td><td style=text-align:center>3</td><td style=text-align:center>4</td></tr></tbody></table></div><p>$\rho_{（D/B）}(R)$ 将关系的属性“B”重命名为“D”。</p><div class=table-wrapper><table><thead><tr><th style=text-align:center>A</th><th style=text-align:center>D</th><th style=text-align:center>C</th></tr></thead><tbody><tr><td style=text-align:center>1</td><td style=text-align:center>2</td><td style=text-align:center>4</td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>2</td><td style=text-align:center>3</td></tr><tr><td style=text-align:center>3</td><td style=text-align:center>2</td><td style=text-align:center>3</td></tr><tr><td style=text-align:center>4</td><td style=text-align:center>3</td><td style=text-align:center>4</td></tr></tbody></table></div><h4 id=笛卡尔积cartesian-product class=headerLink><a href=#%e7%ac%9b%e5%8d%a1%e5%b0%94%e7%a7%afcartesian-product class=header-mark></a>笛卡尔积(Cartesian-product)</h4><p>笛卡尔积运算使得我们可以将任意两个关系的信息组合在一起。假设A和B，那么A和B的笛卡尔积积将导致A的所有属性后面跟着B的每个属性。A的每条记录将与B的每条记录配对。</p><div class=table-wrapper><table><thead><tr><th style=text-align:center>Name</th><th style=text-align:center>Age</th><th style=text-align:center>Sex</th></tr></thead><tbody><tr><td style=text-align:center>Ram</td><td style=text-align:center>14</td><td style=text-align:center>M</td></tr><tr><td style=text-align:center>Sona</td><td style=text-align:center>15</td><td style=text-align:center>F</td></tr><tr><td style=text-align:center>Kim</td><td style=text-align:center>20</td><td style=text-align:center>M</td></tr></tbody></table></div><div class=table-wrapper><table><thead><tr><th style=text-align:center>ID</th><th style=text-align:center>Course</th></tr></thead><tbody><tr><td style=text-align:center>1</td><td style=text-align:center>DS</td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>DBMS</td></tr></tbody></table></div><p>输出：如果关系A有3行，关系B有2行，则笛卡尔积 $A * B$ 将得到6行。</p><div class=table-wrapper><table><thead><tr><th style=text-align:center>Name</th><th style=text-align:center>Age</th><th style=text-align:center>Sex</th><th style=text-align:center>ID</th><th style=text-align:center>Course</th></tr></thead><tbody><tr><td style=text-align:center>Ram</td><td style=text-align:center>14</td><td style=text-align:center>M</td><td style=text-align:center>1</td><td style=text-align:center>DS</td></tr><tr><td style=text-align:center>Ram</td><td style=text-align:center>14</td><td style=text-align:center>M</td><td style=text-align:center>2</td><td style=text-align:center>DBMS</td></tr><tr><td style=text-align:center>Sona</td><td style=text-align:center>15</td><td style=text-align:center>F</td><td style=text-align:center>1</td><td style=text-align:center>DS</td></tr><tr><td style=text-align:center>Sona</td><td style=text-align:center>15</td><td style=text-align:center>F</td><td style=text-align:center>2</td><td style=text-align:center>DBMS</td></tr><tr><td style=text-align:center>Kim</td><td style=text-align:center>20</td><td style=text-align:center>M</td><td style=text-align:center>1</td><td style=text-align:center>DS</td></tr><tr><td style=text-align:center>Kim</td><td style=text-align:center>20</td><td style=text-align:center>M</td><td style=text-align:center>2</td><td style=text-align:center>DBMS</td></tr></tbody></table></div><h4 id=形式化定义 class=headerLink><a href=#%e5%bd%a2%e5%bc%8f%e5%8c%96%e5%ae%9a%e4%b9%89 class=header-mark></a>形式化定义</h4><p>关系代数中的基本表达式是:</p><ul><li>数据库中的一个关系</li><li>一个常数关系</li></ul><p>关系代数中一般的表达式是由更小的子表达式构成。设 $E1$ 和 $E2$ 是关系代数表达式。则以下都是关系代数表达式:</p><ul><li>并集: $E1 \cup E2$</li><li>差集: $E1 - E2$</li><li>笛卡尔积: $E1 * E2$</li><li>选择: $\sigma_P(E1)$ ,其中p是E1的属性上的谓词</li><li>投影: $\Pi_S(E1)$ ,其中S是E1中某些属性的列表</li><li>rename: $\rho_X(E1)$ ,其中 x是E1结果的新名字</li></ul><h3 id=多重集关系代数 class=headerLink><a href=#%e5%a4%9a%e9%87%8d%e9%9b%86%e5%85%b3%e7%b3%bb%e4%bb%a3%e6%95%b0 class=header-mark></a>多重集关系代数</h3><p>与一般关系代数不同的是，SQL在输入关系以及在查询结果中存在元组的多重拷贝(多重集)。SQL标准有如下定义: 在一个查询的输出结果中，每个元组有多少个拷贝取决于所对应的元组在输入关系中的拷贝个数。针对SQL这种情况，有多重关系代数(适配多重集的关系代数)。</p><ul><li>如果在 $r_1$ 中元组 $t_1$ 有 $c_1$ 份拷贝，并且 $t_1$ 满足选择 $\sigma_P$ ，那么在 $\sigma_P(r_1)$ 中元组 $t_1$ 有 $c_1$ 份拷贝。</li><li>对于 $r_1$ 中元组 $t_1$ 的每份拷贝，在 $\Pi_A(r_1)$ 中都有一个与之对应的 $\Pi_A(t_1)$ ，那么 $\Pi_A(t_1)$ 表示单个元组 $t_1$ 的投影。</li><li>如果在 $r_1$ 中元组 $t_1$ 有 $c_1$ 份拷贝，在 $r_2$ 中元组 $t_2$ 有 $c_2$ 份拷贝，那么在 $r_1 * r_2$ 中有元组 $(t1 \space t2)$ 的 $c_1 * c_2$ 份拷贝。</li></ul><h3 id=附加的关系代数运算 class=headerLink><a href=#%e9%99%84%e5%8a%a0%e7%9a%84%e5%85%b3%e7%b3%bb%e4%bb%a3%e6%95%b0%e8%bf%90%e7%ae%97 class=header-mark></a>附加的关系代数运算</h3><p>关系代数的基本运算可以表达任何关系代数查询。但是如果只依靠基本运算，某些查询表达出来会显得冗长。因此，引入了一些新运算，不能增强关系代数的表达能力，却可以简化一些常用查询。</p><h4 id=交集intersection class=headerLink><a href=#%e4%ba%a4%e9%9b%86intersection class=header-mark></a>交集(intersection)</h4><p>交集运算可以获取两个集合相交的部分。交集不是基本运算，$r \cap s = r- (r-s)$ ，可以通过基本运算实现。</p><p>要查找学习法语且学习德语的学生: $\Pi_{(学生姓名)}(法语课) \cap \Pi_{(学生姓名)}(德语课)$。输出如下:</p><div class=table-wrapper><table><thead><tr><th style=text-align:center>学生姓名</th></tr></thead><tbody><tr><td style=text-align:center>Vivek</td></tr><tr><td style=text-align:center>Geeta</td></tr></tbody></table></div><h4 id=赋值运算assignment class=headerLink><a href=#%e8%b5%8b%e5%80%bc%e8%bf%90%e7%ae%97assignment class=header-mark></a>赋值运算(assignment)</h4><p>赋值运算 $\gets$ 通过给临时关系变量赋值的方法帮助书写关系代数表达式。该关系变量可以在后续表达式中使用。</p><p>$$
t \gets \Pi_{x, y}(\sigma_{condition}(R))
$$</p><p>例如: <code>CREATE VIEW t AS SELECT x, y FROM R WHERE condition</code></p><h4 id=连接 class=headerLink><a href=#%e8%bf%9e%e6%8e%a5 class=header-mark></a>连接</h4><p>将使用下面两个表解释不同的连接:</p><p>表 R:</p><div class=table-wrapper><table><thead><tr><th style=text-align:center>A</th><th style=text-align:center>B</th></tr></thead><tbody><tr><td style=text-align:center>1</td><td style=text-align:center>x</td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>y</td></tr><tr><td style=text-align:center>3</td><td style=text-align:center>z</td></tr></tbody></table></div><p>表 S:</p><div class=table-wrapper><table><thead><tr><th style=text-align:center>B</th><th style=text-align:center>C</th></tr></thead><tbody><tr><td style=text-align:center>x</td><td style=text-align:center>10</td></tr><tr><td style=text-align:center>y</td><td style=text-align:center>20</td></tr><tr><td style=text-align:center>w</td><td style=text-align:center>30</td></tr></tbody></table></div><h5 id=自然连接natural-join class=headerLink><a href=#%e8%87%aa%e7%84%b6%e8%bf%9e%e6%8e%a5natural-join class=header-mark></a>自然连接(natural join)</h5><p>自然连接运算是关系 r 和关系 s 的笛卡尔积中选取相同属性组 b 上值相等的元组所构成( $r \Join s= \sigma_{r[B]=s[B]}(r*s)$ )。</p><ul><li>join运算先形成两个参数的笛卡尔积，然后基于两个关系模式都出现的属性上的相等性(b=b)进行选择，最后还要去除重复属性。</li><li>如果关系r和s不含有任何相同的属性，那么自然join和笛卡尔积是相同的。</li></ul><p>$R \Join S$ 的输出是:</p><div class=table-wrapper><table><thead><tr><th style=text-align:center>A</th><th style=text-align:center>B</th><th style=text-align:center>C</th></tr></thead><tbody><tr><td style=text-align:center>1</td><td style=text-align:center>x</td><td style=text-align:center>10</td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>y</td><td style=text-align:center>20</td></tr></tbody></table></div><h5 id=theta-连接 class=headerLink><a href=#theta-%e8%bf%9e%e6%8e%a5 class=header-mark></a>$\theta$ 连接</h5><p>$\theta$ 连接运算是在关系 r 和关系 s 的笛卡尔积中，选取 r 中属性 A 与 s 中属性 B 之间满足 $\theta$ 条件的元组构成( $r \Join s_{A \theta B}= \sigma_{r[A] \theta s[B]}(r*s)$ )。</p><p>例如，基于条件θ连接表R和S，条件是<code>R.B = S.B and R.A > 1</code>: $R \Join S_{R.B=S.B \land R.A>1}$。</p><p>输出表：</p><div class=table-wrapper><table><thead><tr><th style=text-align:center>A</th><th style=text-align:center>R.B</th><th style=text-align:center>S.B</th><th style=text-align:center>C</th></tr></thead><tbody><tr><td style=text-align:center>2</td><td style=text-align:center>y</td><td style=text-align:center>y</td><td style=text-align:center>20</td></tr></tbody></table></div><h5 id=等值连接equal-join class=headerLink><a href=#%e7%ad%89%e5%80%bc%e8%bf%9e%e6%8e%a5equal-join class=header-mark></a>等值连接(equal join)</h5><p>等值连接运算是关系 r 和关系 s 的笛卡尔积中选取 r 中属性 A 与 s 中属性 B 上值相等的元组所构成( $r \Join s_{A=B}= \sigma_{r[A]=s[B]}(r*s)$ )。当 $\theta$ 连接中运算符为<code>＝</code>时，就是等值连接，等值连接是 $\theta$ 连接的一个特例。</p><h5 id=外连接运算 class=headerLink><a href=#%e5%a4%96%e8%bf%9e%e6%8e%a5%e8%bf%90%e7%ae%97 class=header-mark></a>外连接运算</h5><p>外连接是连接运算的扩展。</p><ul><li>左外连接 $r \sqsupset \Join s$ , 取出左侧关系中所有与右侧关系任一元组都不匹配的元组，用空值填充所有右侧关系的属性。在将产生的元组加到自然连接的结果中。</li><li>右外连接 $r \Join \sqsubset s$ ,取出右侧关系中所有与左侧关系任一元组都不匹配的元组，用空值填充所有左侧关系的属性。在将产生的元组加到自然连接的结果中。</li><li>全外连接 $r \sqsupset \Join \sqsubset s$，既做左外连接又做右外连接。取出左侧关系中所有与右侧关系任一元组都不匹配的元组，用空值填充所有右侧关系的属性。取出右侧关系中所有与左侧关系任一元组都不匹配的元组，用空值填充所有左侧关系的属性。最后，加上自然连接的结果。</li></ul><h4 id=除法 class=headerLink><a href=#%e9%99%a4%e6%b3%95 class=header-mark></a>除法</h4><p>除法运算符用于查找一个关系中与另一个关系中的所有记录相关联的记录。当我们想要在多个相关的数据集中识别满足某些条件的实体时，通常会使用它。</p><p>除法运算符$R \div S$可以应用于以下情况：</p><ul><li>B的属性是R的属性的真子集。</li><li>结果将包括A的所有属性，除了S中的那些。</li><li>它从R返回与S中的每个元组相关联的元组。</li></ul><p>关系 R:</p><div class=table-wrapper><table><thead><tr><th style=text-align:center>A</th><th style=text-align:center>B</th></tr></thead><tbody><tr><td style=text-align:center>1</td><td style=text-align:center>x</td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>y</td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>x</td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>y</td></tr><tr><td style=text-align:center>3</td><td style=text-align:center>z</td></tr></tbody></table></div><p>关系 S:</p><div class=table-wrapper><table><thead><tr><th style=text-align:center>B</th></tr></thead><tbody><tr><td style=text-align:center>x</td></tr><tr><td style=text-align:center>y</td></tr></tbody></table></div><p>除法 $R \div S$ 返回与S中所有B值关联的A值。</p><div class=table-wrapper><table><thead><tr><th style=text-align:center>A</th></tr></thead><tbody><tr><td style=text-align:center>1</td></tr><tr><td style=text-align:center>2</td></tr></tbody></table></div><h3 id=扩展的关系代数运算 class=headerLink><a href=#%e6%89%a9%e5%b1%95%e7%9a%84%e5%85%b3%e7%b3%bb%e4%bb%a3%e6%95%b0%e8%bf%90%e7%ae%97 class=header-mark></a>扩展的关系代数运算</h3><h4 id=广义投影generalized-projection class=headerLink><a href=#%e5%b9%bf%e4%b9%89%e6%8a%95%e5%bd%b1generalized-projection class=header-mark></a>广义投影(generalized-projection)</h4><p>广义投影运算允许在投影列表中使用算术运算和字符串函数等来对投影进行扩展。运算形式为: $\Pi_{F_1,F_2,&mldr;,Fn}(E)$ 。其中E是任意的关系代数表达式，而 $F_1,F_2,&mldr;,F_n$ 中的每一个都是涉及常量和E中的属性的算术表达式。 最基本的情况下，算术表达式可以仅仅是一个属性或常量。</p><h4 id=聚集aggregate-function class=headerLink><a href=#%e8%81%9a%e9%9b%86aggregate-function class=header-mark></a>聚集(aggregate function)</h4><p>聚集运算，可以对值的集合使用聚集函数，例如计算最小值或者平均值。聚集函数输入值的一个汇集，返回一个单一值。使用聚集函数对其进行操作的汇集中，一个值可以出现多次，值的出现顺序是无关紧要。这样的汇集称为多重集(multiset)。</p><p>聚合运算的运算形式如下: $<em>{G_1,G_2,&mldr;,G_n}G</em>{F_1(A_1),F_2(A_2),&mldr;,F_n(A_n)}(E)$ ，其中 $g_n$ 表示用于分组的一个属性，$f_n$ 是一个聚集函数，$a_n$ 是一个属性名。例如 $<em>{CATEGORY}G</em>{count(ID)}(E)$ 表示每个分类的ID数。 $G_{count(ID)}(E)$ 表示总ID数。</p><h2 id=元组关系演算 class=headerLink><a href=#%e5%85%83%e7%bb%84%e5%85%b3%e7%b3%bb%e6%bc%94%e7%ae%97 class=header-mark></a>元组关系演算</h2><p>在书写关系代数表达式时，提供了产生查询结果的过程序列，而元组关系演算是非过程化的查询语言，只描述所需信息，而不给出获取该信息的具体过程。元组关系演算中的查询表达式为: $|t| P(t)$ 。表示所有使谓词P为真的元组t的集合。</p><ul><li>用 $t[A]$ 表示元组t在属性A上的值</li><li>用 $t\in r$ 表示元组t在关系r中。</li></ul><h3 id=查询示例 class=headerLink><a href=#%e6%9f%a5%e8%af%a2%e7%a4%ba%e4%be%8b class=header-mark></a>查询示例</h3><p>假设想表示 instructor关系中所有工资在80000以上的教师的ID，name，salary。</p><p>$$
|t| t\in instructor \land t[salary] > 80000|
$$</p><p>如果我们只想要ID属性，而不是关系instructor的所有属性。我们通过 $\exist t \in r(Q(t))$ 这一(存在)结构来表示 关系r中存在元组t使谓词Q(t)为真。</p><p>$$
{ t| \exist s \space\in instructor(t[ID] = s[ID] \land s[salary] > 80000)}
$$</p><p>表示 所有满足如下条件的元组t的集合(在关系instructor中存在元组s使得t和s在属性ID上值相等，且s在属性salary上值大于80000美元)。</p><ul><li>$\land$ 表示关系 与</li><li>$\lor$ 表示关系 或</li><li>$\lnot$ 表示关系 非</li><li>$\implies$ 表示关系蕴含，$P \implies Q$ 表示，如果P为真，那么Q必然为真。逻辑上等价于 $\lnot P \lor Q$</li><li>$\forall$ 表示对所有，例如 $\forall t \in r(Q(t))$ 表示对于关系r中所有元组t，Q均为真。</li></ul><h3 id=形式化定义-1 class=headerLink><a href=#%e5%bd%a2%e5%bc%8f%e5%8c%96%e5%ae%9a%e4%b9%89-1 class=header-mark></a>形式化定义</h3><p>元组关系演算表达式具有如下形式: $|t|P(t)$ 。其中 P是一个公式，公式中可以出现很多元组变量，如果元组变量不被 $\exist$ 或 $\forall$ 修饰，则称为自由变量。因此，在</p><p>$$
t \in instructor \land \exist s \space\in department(t[dept_name] = s[dept_name])
$$</p><p>中，t是自由变量，而元组变量s是受限变量。元组关系演算的公式由原子构成，原子可以是如下的形式之一:</p><ul><li>$s \in r$ ，其中s是元组变量而r是关系。(注意: 不允许使用 $\notin$ 运算符)</li><li>$s[x] \space \Theta \space u[y]$ ，其中s和u是元组变量，x是s所基于的关系模式中的一个属性，y是u所基于的关系模式中的一个属性， $\Theta$ 是比较关系运算符: $\lt, \le, \ge ,\gt,\ne, =$。(注意: 要求属性x和y所属域的成员能用 $\Theta$ 比较)</li><li>$s[x] \space \Theta \space c$ ，其中s是元组变量，x是s所基于的关系模式中的一个属性，$\Theta$ 是比较关系运算符，c是属性x所属域中的常量。</li></ul><p>我们根据如下规则，使用原子构造公式:</p><ul><li>原子是公式。</li><li>如果 $P_1$ 是公式，那么 $\lnot P_1$ 和 $(P_1)$ 也都是公式。</li><li>如果 $P_1$ 和 $P_2$ 是公式，那么 $P_1 \lor P_2$ 、$P_1 \land P_2$ 和 $P_1 \implies P_2$ 也都是公式。</li><li>如果 $P_1(s)$ 是包含自由元组变量s的公式，且r是关系，则 $\exist s \in r(P_1(s))$ 和 $\forall s \in r(P_1(s))$ 也都是公式。</li></ul><p>我们可以写出一些形式上不一样的等价表达式。</p><ul><li>$P_1 \land P_2$ 等价于 $\lnot (\lnot (P_1) \lor \lnot(P_2))$</li><li>$\forall t \in r(P_1(s))$ 等价于 $\lnot \exist t \in r(\lnot P_1(t))$</li><li>$P_1 \implies P_2$ 等价于 $\lnot(P_1) \lor P_2$</li></ul><h3 id=表达式安全性问题 class=headerLink><a href=#%e8%a1%a8%e8%be%be%e5%bc%8f%e5%ae%89%e5%85%a8%e6%80%a7%e9%97%ae%e9%a2%98 class=header-mark></a>表达式安全性问题</h3><p>元组关系演算表达式可能产生一个无限的关系，例如 $|t| \lnot (t \in instructor)$ , 不在instructor的元组有无限多个，大多数的元组都不在数据库中。我们不希望有这样的表达式。</p><p>为了对元组关系演算进行限制，引入了元组关系公式P的域这一概念。P的域(dom(P))是P所引用的所有值的集合，既包括P自身用到的值，又包括P中涉及的关系的元组中出现的所有值。因此，P的域是P中显式出现的值及出现在P中的那些关系的所有值的集合。</p><p>例如, $dom(t \in instructor \land t[salary] >80000)$ 是包括80000和出现在instructor中的所有值的集合。如果 $|t|P(t)$ 结果中的所有值均来自dom(P),那么我们说表达式是安全的。$|t| \lnot (t \in instructor)$ 是不安全的，因为很可能存在某个不在instructor中的元组t。</p><blockquote><p>在安全表达式范围内的元组关系演算和基本关系代数具有相同的表达能力(仅限于基本关系代数)。</p></blockquote><h2 id=域关系演算 class=headerLink><a href=#%e5%9f%9f%e5%85%b3%e7%b3%bb%e6%bc%94%e7%ae%97 class=header-mark></a>域关系演算</h2><p>关系运算的另一种形式被称为域关系运算，使用从属性域中取值的域变量，而不是整个元组的值。就像关系代数是SQL语言的基础一样，域关系演算是被广泛采用的QBE语言的理论基础。</p><h3 id=形式化定义-2 class=headerLink><a href=#%e5%bd%a2%e5%bc%8f%e5%8c%96%e5%ae%9a%e4%b9%89-2 class=header-mark></a>形式化定义</h3><p>域关系演算中的表达式形式如下:</p><p>$$
|&lt;x_1,x_2,&mldr;,x_n>|P(x_1,x_2,&mldr;,x_n)
$$</p><p>其中，$x_1,x_2,&mldr;,x_n$ 代表域变量。和元组关系演算一样，P代表由原子构成的公式。域关系演算中的原子有如下形式之一:</p><ul><li>$&lt;x_1,x_2,&mldr;,x_n> \in r$ ，其中r是n个属性上的关系，而 $x_1,x_2,&mldr;,x_n$ 是域变量或域常量。</li><li>$x \Theta y$ ，其中x和y是域变量，而 $\Theta$ 是比较运算符 $\lt, \le, \ge ,\gt,\ne, =$ (要求属性x和y所属域可以用 $\Theta$ 比较 )</li><li>$x \Theta c$ , 其中x是域变量，$\Theta$ 是比较运算符，而c是x作为域变量的那个属性域中的常量。</li></ul><p>根据以下的规则，我们可以用原子构造公式:</p><ul><li>原子是公式</li><li>如果 $P_1$ 是公式，那么 $\lnot P_1$ 和 $(P_1)$ 也都是公式。</li><li>如果 $P_1$ 和 $P_2$ 是公式，那么 $P_1 \lor P_2$ 、$P_1 \land P_2$ 和 $P_1 \implies P_2$ 也都是公式。</li><li>如果 $P_1(x)$ 是x的一个公式，其中x是自由域变量，则 $\exist x \in (P_1(x))$ 和 $\forall x \in (P_1(x))$ 也都是公式。</li></ul><blockquote><p>我们将 $\exist a,b,c(P(a,b,c))$ 作为 $\exist a(\exist b(\exist c (P(a,b,c))))$的简写。</p></blockquote><h3 id=查询示例-1 class=headerLink><a href=#%e6%9f%a5%e8%af%a2%e7%a4%ba%e4%be%8b-1 class=header-mark></a>查询示例</h3><ul><li>找出工资在80000美元以上的教师的ID，name，dept_name和salary: $|&lt;i,n,d,s>|&lt;i,n,d,s> \in instructor \land s> 80000$</li><li>找出工资大于80000美元的所有教师的名字: $|<i>| \exist n,d,s(&lt;i,n,d,s> \in instructor \land s > 80000)$</li></ul><h3 id=表达式安全性问题-1 class=headerLink><a href=#%e8%a1%a8%e8%be%be%e5%bc%8f%e5%ae%89%e5%85%a8%e6%80%a7%e9%97%ae%e9%a2%98-1 class=header-mark></a>表达式安全性问题</h3><p>在元组关系演算中提到，可以写出产生结果为无限关系的表达式。域关系演算中也有类似的情况。例如: $|&lt;i,n,d,s>| \lnot (&lt;i,n,d,s> \in instructor)$ 。</p><p>这样的表达式是不安全的，因为它允许在结果中出现不在表达式域中的值。此外，在域关系演算中，我们还需要注意 ”存在“ 和 ”对所有“ 子句中公式的形式。例如:</p><p>$$
|<x>| \exist y(&lt;x,y> \in r) \land \exist z(\lnot(&lt;x,z> \in r) \land P(x,z))
$$</p><p>其中P是涉及x和z的公式。对于公式的第一部分 $\exist y(&lt;x,y> \in r)$ ，我们在测试时只需要考虑r中的值。但是对于公式中的第二部分，我们在测试时，需要考虑不在r中出现的z值。实际上不在r中出现的值是无限多的。所有我们需要通过增加一些约束来限制上面的表达式。</p><p>在元组关系演算中，我们将所有存在量词修饰的变量限制在某个关系范围内。在域关系演算中，我们也增加用于定义安全性的规则，以处理上面的类型情况。</p><ul><li>表达式的元组中所有值均来自 $dom(P)$.</li><li>对于形如 $\exist x(P_1(x))$ 的”存在“子公式而言，子公式为真，当且仅当在 $dom(P_1)$ 中有某个值x是 $P_1(x)$ 为真。</li><li>对于形如 $\forall x(P_1(x))$ 的”对所有“子公式而言，子公式为真，当且仅当在 $dom(P_1)$ 中所有值x 均使$P_1(x)$ 为真。</li></ul><p>当上面条件同时成立时，我们认为表达式 $|&lt;x_1,x_2,&mldr;,x_n>| P(x_1,x_2,&mldr;,x_n)$ 是安全的</p><h2 id=总结 class=headerLink><a href=#%e6%80%bb%e7%bb%93 class=header-mark></a>总结</h2><p>关系代数定义了一套在表上运算且输出结果也是表的代数运算。这些运算可以混合使用成表达式，来描述对应查询。关系代数运算可以分为:</p><ul><li>基本运算</li><li>附加的运算(可以用基本运算表达)、</li><li>扩展的运算，扩展了关系代数的表达能力</li></ul><p>关系代数是简洁的，形式化的语言。SQL是基于关系代数的。元组关系演算和域关系演算是非过程化的语言，代表了关系查询语言所需要的基本能力。基本关系代数是一种过程化语言，在能力上等价于被限制在安全表达式范围内的关系演算。</p><h2 id=参考 class=headerLink><a href=#%e5%8f%82%e8%80%83 class=header-mark></a>参考</h2><ul><li>[1] <a href=https://www.geeksforgeeks.org/dbms/introduction-of-relational-algebra-in-dbms/ target=_blank rel="noopener noreferrer">Introduction of Relational Algebra in DBMS</a></li></ul></div><div class="sponsor print:tw-hidden"><div class=sponsor-avatar></div><p class=sponsor-bio><em>如果你觉得这篇文章对你有所帮助，请我一杯咖啡吧~</em></p><div class=sponsor-custom><div style=display:flex;justify-content:center;gap:30px><div style=text-align:center><img src=/images/weixinpay.webp alt=微信支付 style=width:200px;height:auto;border-radius:8px><span style=display:block;margin-top:10px;font-size:14px;color:#666>微信支付</span></div><div style=text-align:center><img src=/images/alpay.webp alt=支付宝 style=width:200px;height:auto;border-radius:8px><span style=display:block;margin-top:10px;font-size:14px;color:#666>支付宝</span></div></div></div></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>更新于 2023-10-03</span></div><div class=post-info-license></div></div><div class="post-info-line print:!tw-hidden"><div class=post-info-md></div><div class=post-info-share><button title="分享到 Instapaper" data-sharer=instapaper data-url=http://www.victorchu.info/posts/2023/10/9e3f23c9/ data-title=形式化关系查询语言 data-description><svg class="icon" role="img" viewBox="0 0 24 24"><title>Instapaper</title><path d="M14.766 20.259c0 1.819.271 2.089 2.934 2.292V24H6.301v-1.449c2.666-.203 2.934-.473 2.934-2.292V3.708c0-1.784-.27-2.089-2.934-2.292V0h11.398v1.416c-2.662.203-2.934.506-2.934 2.292v16.551z"/></svg></button><button title="分享到 Pocket" data-sharer=pocket data-url=http://www.victorchu.info/posts/2023/10/9e3f23c9/><svg class="icon" viewBox="0 0 448 512"><path d="M407.6 64h-367C18.5 64 0 82.5.0 104.6v135.2C0 364.5 99.7 464 224.2 464c124 0 223.8-99.5 223.8-224.2V104.6c0-22.4-17.7-40.6-40.4-40.6zm-162 268.5c-12.4 11.8-31.4 11.1-42.4.0C89.5 223.6 88.3 227.4 88.3 209.3c0-16.9 13.8-30.7 30.7-30.7 17 0 16.1 3.8 105.2 89.3 90.6-86.9 88.6-89.3 105.5-89.3 16.9.0 30.7 13.8 30.7 30.7.0 17.8-2.9 15.7-114.8 123.2z"/></svg></button><button title="分享到 Flipboard" data-sharer=flipboard data-url=http://www.victorchu.info/posts/2023/10/9e3f23c9/ data-title=形式化关系查询语言><svg class="icon" viewBox="0 0 448 512"><path d="M0 32v448h448V32H0zm358.4 179.2h-89.6v89.6h-89.6v89.6H89.6V121.6h268.8v89.6z"/></svg></button><button title="分享到 微博" data-sharer=weibo data-url=http://www.victorchu.info/posts/2023/10/9e3f23c9/ data-title=形式化关系查询语言 data-image=/feature-images/database.webp><svg class="icon" viewBox="0 0 512 512"><path d="M407 177.6c7.6-24-13.4-46.8-37.4-41.7-22 4.8-28.8-28.1-7.1-32.8 50.1-10.9 92.3 37.1 76.5 84.8-6.8 21.2-38.8 10.8-32-10.3zM214.8 446.7C108.5 446.7.0 395.3.0 310.4c0-44.3 28-95.4 76.3-143.7C176 67 279.5 65.8 249.9 161c-4 13.1 12.3 5.7 12.3 6 79.5-33.6 140.5-16.8 114 51.4-3.7 9.4 1.1 10.9 8.3 13.1 135.7 42.3 34.8 215.2-169.7 215.2zm143.7-146.3c-5.4-55.7-78.5-94-163.4-85.7-84.8 8.6-148.8 60.3-143.4 116s78.5 94 163.4 85.7c84.8-8.6 148.8-60.3 143.4-116zM347.9 35.1c-25.9 5.6-16.8 43.7 8.3 38.3 72.3-15.2 134.8 52.8 111.7 124-7.4 24.2 29.1 37 37.4 12 31.9-99.8-55.1-195.9-157.4-174.3zm-78.5 311c-17.1 38.8-66.8 60-109.1 46.3-40.8-13.1-58-53.4-40.3-89.7 17.7-35.4 63.1-55.4 103.4-45.1 42 10.8 63.1 50.2 46 88.5zm-86.3-30c-12.9-5.4-30 .3-38 12.9-8.3 12.9-4.3 28 8.6 34 13.1 6 30.8.3 39.1-12.9 8-13.1 3.7-28.3-9.7-34zm32.6-13.4c-5.1-1.7-11.4.6-14.3 5.4-2.9 5.1-1.4 10.6 3.7 12.9 5.1 2 11.7-.3 14.6-5.4 2.8-5.2 1.1-10.9-4-12.9z"/></svg></button><button title="分享到 Evernote" data-sharer=evernote data-url=http://www.victorchu.info/posts/2023/10/9e3f23c9/ data-title=形式化关系查询语言><svg class="icon" viewBox="0 0 384 512"><path d="M120.82 132.21c1.6 22.31-17.55 21.59-21.61 21.59-68.93.0-73.64-1-83.58 3.34-.56.22-.74.0-.37-.37L123.79 46.45c.38-.37.6-.22.38.37-4.35 9.99-3.35 15.09-3.35 85.39zm79 308c-14.68-37.08 13-76.93 52.52-76.62 17.49.0 22.6 23.21 7.95 31.42-6.19 3.3-24.95 1.74-25.14 19.2-.05 17.09 19.67 25 31.2 24.89A45.64 45.64.0 00312 393.45v-.08c0-11.63-7.79-47.22-47.54-55.34-7.72-1.54-65-6.35-68.35-50.52-3.74 16.93-17.4 63.49-43.11 69.09-8.74 1.94-69.68 7.64-112.92-36.77.0.0-18.57-15.23-28.23-57.95-3.38-15.75-9.28-39.7-11.14-62 0-18 11.14-30.45 25.07-32.2 81 0 90 2.32 101-7.8 9.82-9.24 7.8-15.5 7.8-102.78 1-8.3 7.79-30.81 53.41-24.14 6 .86 31.91 4.18 37.48 30.64l64.26 11.15c20.43 3.71 70.94 7 80.6 57.94 22.66 121.09 8.91 238.46 7.8 238.46C362.15 485.53 267.06 480 267.06 480c-18.95-.23-54.25-9.4-67.27-39.83zm80.94-204.84c-1 1.92-2.2 6 .85 7 14.09 4.93 39.75 6.84 45.88 5.53 3.11-.25 3.05-4.43 2.48-6.65-3.53-21.85-40.83-26.5-49.24-5.92z"/></svg></button></div></div></div><div class=post-info-more><section class=post-tags><svg class="icon" viewBox="0 0 640 512"><path d="M497.941 225.941 286.059 14.059A48 48 0 00252.118.0H48C21.49.0.0 21.49.0 48v204.118a48 48 0 0014.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882.0l204.118-204.118c18.745-18.745 18.745-49.137.0-67.882zM112 160c-26.51.0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882.0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397.0h48.721a48 48 0 0133.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137.0 67.882z"/></svg>&nbsp;<a href=/tags/relation-algebra/>Relation Algebra</a></section><section class=print:!tw-hidden><span><button class="tw-text-fgColor-link-muted hover:tw-text-fgColor-link-muted-hover" onclick=window.history.back()>返回</button></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span></section></div><div class="post-nav print:tw-hidden"><a href=/posts/2023/09/422b2ff2/ class=prev rel=prev title="Trino Sql优化:Removing redundant ORDER BY"><svg class="icon" viewBox="0 0 256 512"><path d="M31.7 239l136-136c9.4-9.4 24.6-9.4 33.9.0l22.6 22.6c9.4 9.4 9.4 24.6.0 33.9L127.9 256l96.4 96.4c9.4 9.4 9.4 24.6.0 33.9L201.7 409c-9.4 9.4-24.6 9.4-33.9.0l-136-136c-9.5-9.4-9.5-24.6-.1-34z"/></svg>Trino Sql优化:Removing redundant ORDER BY</a>
<a href=/posts/2024/02/4e6dffa/ class=next rel=next title=使用物化视图优化查询:一个实用的、可扩展的解决方案>使用物化视图优化查询:一个实用的、可扩展的解决方案<svg class="icon" viewBox="0 0 256 512"><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9.0l-22.6-22.6c-9.4-9.4-9.4-24.6.0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6.0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9.0l136 136c9.5 9.4 9.5 24.6.1 34z"/></svg></a></div></div><div id=comments class="print:!tw-hidden tw-pt-32 tw-pb-8"><div id=giscus></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://giscus.app/>giscus</a>.</noscript></div></article></main><footer class=footer><div class=footer-container><div class=footer-line>由 <a href=https://gohugo.io/ target=_blank rel="noopener noreferrer" title="Hugo 0.155.2">Hugo</a> 强力驱动&nbsp;|&nbsp;本网站由<a href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral" rel=noopener target=_blank><img src=/images/upyun.svg width=60 alt style=display:inline-block;vertical-align:middle></a>提供 CDN加速/云存储服务&nbsp;|&nbsp;主题 - <a href=https://github.com/HEIGE-PCloud/DoIt target=_blank rel="noopener noreferrer" title="DoIt 0.4.2"><svg class="icon" viewBox="0 0 576 512"><path d="M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5.0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1.0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7.0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174 402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7-43.2-43.2c-4.1-4.1-10.8-4.1-14.8.0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"/></svg> DoIt</a></div><div class=footer-line><svg class="icon" viewBox="0 0 512 512"><path d="M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 448c-110.532.0-2e2-89.451-2e2-2e2.0-110.531 89.451-2e2 2e2-2e2 110.532.0 2e2 89.451 2e2 2e2.0 110.532-89.451 2e2-2e2 2e2zm107.351-101.064c-9.614 9.712-45.53 41.396-104.065 41.396-82.43.0-140.484-61.425-140.484-141.567.0-79.152 60.275-139.401 139.762-139.401 55.531.0 88.738 26.62 97.593 34.779a11.965 11.965.0 011.936 15.322l-18.155 28.113c-3.841 5.95-11.966 7.282-17.499 2.921-8.595-6.776-31.814-22.538-61.708-22.538-48.303.0-77.916 35.33-77.916 80.082.0 41.589 26.888 83.692 78.277 83.692 32.657.0 56.843-19.039 65.726-27.225 5.27-4.857 13.596-4.039 17.82 1.738l19.865 27.17a11.947 11.947.0 01-1.152 15.518z"/></svg>2016 - 2026<span class=author>&nbsp;<a href=/ target=_blank rel="noopener noreferrer">victorchutian</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span><span class=icp-splitter>&nbsp;|&nbsp;</span><br class=icp-br><span class=icp><a href=https://beian.miit.gov.cn/ rel=noopener target=_blank>浙 ICP 备 18037908 号 - 1 </a></span><span class=icp-splitter>&nbsp;|&nbsp;</span><span class=icp><img src=/images/gongan.webp alt style=display:inline-block;vertical-align:middle><a href="https://beian.mps.gov.cn/#/query/webSearch?code=33010902002043" rel=noopener target=_blank>浙公网安备 33010902002043 号</a></span></div><div class=footer-line></div><div class=footer-line></div></div></footer><div class="print:!tw-hidden tw-flex tw-flex-col tw-fixed tw-right-4 tw-bottom-4 tw-gap-2"><a href=#back-to-top id=back-to-top-button class="tw-transition-opacity tw-opacity-0 tw-block tw-bg-bgColor-secondary tw-rounded-full" style=padding:.6rem;line-height:1.3rem;font-size:1rem title=回到顶部><svg class="icon" viewBox="0 0 448 512"><path d="M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6.0-33.9L207 39c9.4-9.4 24.6-9.4 33.9.0l194.3 194.3c9.4 9.4 9.4 24.6.0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3.0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"/></svg>
</a><button id=toc-drawer-button class="tw-block tw-bg-bgColor-secondary tw-rounded-full md:tw-hidden" style=padding:.6rem;line-height:1.3rem;font-size:1rem>
<svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg>
</button><a href=#comments id=view-comments class="tw-block tw-bg-bgColor-secondary tw-rounded-full" style=padding:.6rem;line-height:1.3rem;font-size:1rem title=查看评论>
<svg class="icon" viewBox="0 0 512 512"><path d="M256 32C114.6 32 0 125.1.0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3.0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4.0 256-93.1 256-208S397.4 32 256 32z"/></svg></a></div><link rel=stylesheet href=/lib/katex/katex.min.291db6705f4ae43af07a57a5d4b06e31.css integrity="md5-KR22cF9K5Drwelel1LBuMQ=="><link rel=preload as=style onload='this.onload=null,this.rel="stylesheet"' href=/lib/katex/copy-tex.min.727189e34fc67f1c2e7020d67aada5dc.css integrity="md5-cnGJ40/GfxwucCDWeq2l3A=="><noscript><link rel=stylesheet href=/lib/katex/copy-tex.min.727189e34fc67f1c2e7020d67aada5dc.css integrity="md5-cnGJ40/GfxwucCDWeq2l3A=="></noscript><script>window.config={"algoliasearch.min.js":"/lib/algoliasearch/algoliasearch-lite.umd.min.js","autocomplete.min.js":"/lib/autocomplete/autocomplete.min.js",comment:{giscus:{darkTheme:"catppuccin_frappe",dataCategory:"Announcements",dataCategoryId:"DIC_kwDORI9uYs4C15sc",dataEmitMetadata:"0",dataInputPosition:"top",dataLang:"zh-CN",dataLoading:"lazy",dataMapping:"pathname",dataReactionsEnabled:"1",dataRepo:"chutian0610/blog-comment",dataRepoId:"R_kgDORI9uYg",dataStrict:"0",lightTheme:"catppuccin_latte"}},data:{"desktop-header-typeit":"Victor's Code Journey","mobile-header-typeit":"Victor's Code Journey"},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{algoliaAppID:"X9UOD4FSUP",algoliaIndex:"hugo",algoliaSearchKey:"fa32db1f02073025c69da8ebad0a6aa6",highlightTag:"em",maxResultLength:10,noResultsFound:"没有找到结果",snippetLength:50,type:"algolia"},sharerjs:!0,typeit:{cursorChar:null,cursorSpeed:null,data:{"desktop-header-typeit":["desktop-header-typeit"],"mobile-header-typeit":["mobile-header-typeit"]},duration:null,speed:null}}</script><script src=/lib/sharer/sharer.min.b834cfb885a9d1d9cc75ca8215372179.js integrity="md5-uDTPuIWp0dnMdcqCFTcheQ=="></script><script src=/lib/typeit/typeit.min.4297640b5eb76c2398632d6ec76a9f01.js integrity="md5-QpdkC163bCOYYy1ux2qfAQ=="></script><script src=/lib/katex/katex.min.15c1bf7dc295f5edacb4dd77f123b603.js integrity="md5-FcG/fcKV9e2stN138SO2Aw==" defer></script><script src=/lib/katex/auto-render.min.deba59a48dbf0bdd912d0d2c8b08c1eb.js integrity="md5-3rpZpI2/C92RLQ0siwjB6w==" defer></script><script src=/lib/katex/copy-tex.min.6be74da2bd31a1975da5090d5926cd54.js integrity="md5-a+dNor0xoZddpQkNWSbNVA==" defer></script><script src=/lib/katex/mhchem.min.902d3a9c2737d9124d1f712d3c0527c9.js integrity="md5-kC06nCc32RJNH3EtPAUnyQ==" defer></script><script src=/js/katex.min.js defer></script><script src=/js/theme.min.js defer></script><script src=/js/giscus.min.js defer></script><script type=speculationrules>
  {
    "prerender": [
      {
        "where": { "href_matches": "/*" },
        "eagerness": "moderate"
      }
    ]
  }
</script></body></html>